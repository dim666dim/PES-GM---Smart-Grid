\section{Introduction}

The smart grid is a distributed energy network composed of intelligent
nodes (or agents) that can either operate autonomously or communicate and share energy \cite{weiss1999multiagent}.
The purpose of a smart grid is to efficiently deliver energy to consumers as well as store and convert
energy produced, e.g., according to prices, supply and demand. 

A microgrid is a networked group of distributed energy sources with the goal of
generating, converting and storing energy. 
While the main power stations are highly connected, micro-grids with local power generation, storage
and conversion capabilities, act locally or share power with a few neighbouring micro-grid nodes \cite{farhangi2010path}.
This scenario is being envisaged as an important alternative to the conventional scheme with
large power stations transmitting energy over long distances.

 In order to take full advantage of the modularity and flexibility of micro-grid technologies, smart
control mechanisms are required to manage and coordinate these distributed energy systems so as to
minimize the costs of energy production, conversion and storage, without jeopardizing grid stability.

The implementation of such smart controls is by no means easy for the following reasons:
\begin{inparaenum}[\bfseries (i)]
\item Small scale energy production and storage is intrinsically
         related to intermittency of wind/solar energy and to variability in the load profile.
          So an important challenge is to increase resilience and reliability under stochastic supply and
                 demand.
\item Micro-grids can operate in two different modes: (a) when they are connected to the
main power grid, and (b) in the isolated or island mode. Moreover, they can share energy with
other microgrids that require energy. Thus, one needs to make
dynamic decisions on (a) when to operate in the connected (to the power grid) or isolated modes, 
(b) when to share energy with other microgrids and when to store energy for future use, and (c) 
which form to store energy given that storage management itself
involves heterogeneous storage technologies with different
operating characteristics.
%\item Each microgrid has access to only its local (and not global) state information. 
%While microgrids can exchange information with one another, there are problems with frequent communication
%between microgrids due to (a) privacy issues and (b) risk of cyber attacks.
%Important challenges here include (a) optimizing global grid performance with limited communications,
%(b) voltage and frequency control for grid stabilization.
%\item Decision making in microgrids needs to take place on different timescales. On the slower
%timescale of say hours, one needs to make decisions on energy generation, conversion and storage,
%while on the faster timescale of minutes to seconds, one needs to make decisions related to dynamic
%demand response as well as ensuing grid stability, i.e., of frequency and voltage regulation.
\end{inparaenum}

**************************************************************
Need to write about ADL and Literature Survey And Our Work
**************************************************************

Load shifting is a popuar technique used in demand-side management (DSM) \cite{DTU2010}. It involves moving the consumption of load to different times within an hour, or within in a day, or even within a week. It doesn't lead to reduction in net quantity of energy consumed, but simply involves changing the time when the energy is consumed. Advantage due to load shifting for the customer is reduction in the energy consumption cost, and the advantage for the smart grid is in managing the peak load consumption. Hence load shifting is benificial for both the consumers and the smart grid.

With the increased use of the smart appliances and smart home environments, the concept of load shifting is becomming increasingly handy for the smart grid as the demand from smart appliances is time adjustable in general. One ore more of these smart appliances collectively achieve some activity in the smart home environment, called as an ADL (activity of daily living). It's possible to monitor and identify the ADLs in the smart home environments \cite{I2014, GPG2016}. When an ADL is active, the smart appliances associated with that ADL are switched on to perform the activity defined by the ADL thus adding load on the smart grid. With the help of the smart home technology, it's possible to find the amount of load each ADL puts on the grid, and also the allowed time window during which the ADL would perform the activity (e.g., washing machine running for an hour to clean the cloths anytime between 3PM to 6PM). If the time window for the ADL lets the smart grid have more than one possible way of scheduling the load, it's considered as flexible ADL. On the otherhand, if the time window for the ADL lets the smart grid have exactly one possible way of scheduling the load, it's considered as non-flexible ADL (e.g., washing machine running for an hour to clean the cloths anytime between 3PM to 4PM, is not flexible since there is only one option of switching on the washing machine at 3PM). Thus the demand from the flexible ADLs need not be met at a fixed time period, instead could be met at any time period within a flexible time window. With the help of the advanced metering infrastructure (AMI) \cite{RAFK2014} that provides a two-way communication between the utility and customers, it's possible to take the decision of when to schedule the ADL demand at the smart grid and convey the same to the customer's smart meter.    

There is other regular demand that needs to be met at fixed time periods, apart from the zero or more ADL related demand associated with any customer. This regular demand along with the zero or more non-flexible ADL demand of a smart home is considered to be non-ADL demand for the rest of the paper. Similarly, the demand due to zero or more flexible ADLs of the smart home is considered to be ADL demand.
 
There is prior art around scheduling the ADL-demand using the load shifting technique for handling the peak load scenarios \cite{CL2014}. However, they precisely know the supply profile while doing such a seheduling of the ADL-demand. In this paper, we propose scheduling of ADL-demand using the load shifting technique with uncertainity in the supply profile generated (e.g., renewable energy sources like solar or wind being the primary sources of power generation).

**************************************************************
END ADL INTRO BARE MIN DUE TO PAGE LIMIT - IF REQUIRED CAN ADD MORE CONTENT EASILY
**************************************************************

Research on smartgrids can be classified into two areas -  Demand-side management and Supply-side management. Demand side management (DSM) (\cite{logenthiran2011multi, wang2010demand,dsm1,dsm2,dsm3,dsm4}) deals with techniques developed to efficiently use the power by bringing the customers into the play. The main idea is to reduce the consumption of power during peak time and shifting it during the other times. This is done by dynamically changing the price of power and sharing this information with the customers. 

%In \cite{reddy2011learned}, Reinforcement Learning (RL) is used in smart grids for pricing mechanism so as to improve the profits of broker agents who procure energy from power generation sources and sell it to consumers.  
Supply-side management deals with developing techniques to efficiently make use of renewable and non-renewable energy at the supply side. We now discuss the papers that are close to our work. In \cite{PHarsha}, authors consider the problem of optimal energy storage management problem under dynamic cost setup. They consider a renewable generator that is equipped with a limited storage battery and capable of meeting the some local demands. It also has connection from the main grid. The decision to be taken at every instant is the number of power units to be stored in the battery. They allow this to be negative as power can be drawn from the battery. They formulate this problem as a Markov Decision Process under long run average cost. The objective is to minimize the long run average cost of power bought from the main grid.

The assumption made in this paper is that demand at all times can be met. This is facilitated by allowing the main grid as many units of power as asked by the renewable generator. In our work, we extend this MDP model to put additional constraint on the maximum number of power units that a main grid can provide. Another notable contribution is that we extend this setup to the multiple microgrids. Here, we allow the microgrids to share the power among themselves.  

In \cite{reddy2011learned}, they consider the problem of maximizing the profits among the broker agents. These agents buy the power from the producers and sell it to the customers. They apply Reinforcement Learning (RL) algorithms to solve this problem to show that learning policies perform better than the traditional non-learning strategies.

In \cite{goodmdp}, authors propose an MDP for solving the problem of minimizing the demand and supply deficit  
and apply dynamic optimization methods. But when the model information (the renewable energy generation in this case) is not known, we cannot apply these techniques.

\section*{Organization of the Paper}	
The rest of the paper is organized as follows. The next section describes the important problems associated with the microgrids and solution techniques to solve them. Section III presents the results of experiments of our algorithms. Section IV provides the concluding remarks and Section V discusses the future research directions.